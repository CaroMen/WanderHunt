extends layout
append head 
    link(rel='stylesheet' href='/stylesheets/post.css')
    //- script(src="/javascripts/post.js" type="module" defer)
block content 
    div.body-container 
        div.titleInfo
            h1.title= post.title
            h3.activity= post.Activity.name
        div.editPost    
            if !locals.authenticated || post.user_id !== locals.user.id 
                button.edit_button(type='button' style='display:none' value='edit' id=`edit_button_${post.id}`) Edit Post
            else 
                button.edit_button(type='button' value='edit' id=`edit_button_${post.id}`) Edit Post
        div.leftColumn 
            div.product
                div.location    
                    h3 Located in #{post.State.name}
                div.media
                    img(src=post.gallery)  
                div.description
                    h3 Description
                    p=post.description
            h3.comments_title Comments
            div.comments
                div.comments_input
                    form(method='post')
                        input(type='text' name='newComment' id='newComment' placeholder='What do you think of this?')  
                        button.submitComment(type='submit' value='submit' id=`submitComment_${locals.user.id}`) Send
                div.comments_body
                    each comment in commentsArray 
                        div.individualComment(id=`individualComment_${comment.id}`) 
                            div.commentTop
                                img.commentProfilePhoto(src=`${comment.User.profilePhoto}` id=`commentUser_${comment.user_id}`)
                                h4.commentProfileName=comment.User.username
                                if !locals.authenticated || comment.user_id !== locals.user.id
                                    button.deleteCommentBtn(type='button' style='display:none' value='delete' id=`deleteComment_${comment.id}`) Delete Comment
                                else 
                                    button.deleteCommentBtn(type='button' value='delete' id=`deleteComment_${comment.id}`) Delete Comment
                            p.commentContent=comment.content
        div.rightColumn 
            div.author
                h2.author_title Author
                div.author_photo(name='author_photo')
                    img.author_photo_img(src=post.User.profilePhoto id=`author_${post.User.id}`) 
                h3.author_name= post.User.username
            div.related
                h2.related_title Related Activities
                p Some fun related activities
